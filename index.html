<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ø§Ù„Ù…Ø³Ø¹Ù Ø§Ù„Ø°ÙƒÙŠ</title>
<style>
body{font-family:"Segoe UI";background:#f5f0ff;text-align:center;color:#222;margin:0;padding:30px}
h1{color:#7c3aed}
button{background:#7c3aed;color:#fff;border:none;padding:14px 30px;border-radius:12px;font-size:18px;cursor:pointer;margin:8px}
.case-card{background:#fff;border-radius:14px;box-shadow:0 2px 10px rgba(0,0,0,.1);margin:20px auto;padding:20px;max-width:400px}
.hidden{display:none}
.controls button{background:#a78bfa}
</style>
</head>
<body>
<h1>Ø§Ù„Ù…Ø³Ø¹Ù Ø§Ù„Ø°ÙƒÙŠ</h1>
<p>Ø§Ù†Ø·Ù‚ Ø­Ø§Ù„ØªÙƒ Ø£Ùˆ Ø§Ø®ØªØ±Ù‡Ø§ Ù„Ù„ØªØ¹Ø±Ù‘Ù Ø¹Ù„Ù‰ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¥Ø³Ø¹Ø§Ù Ø§Ù„Ø£ÙˆÙ„ÙŠ</p>
<button id="emergencyBtn">ğŸ™ Ø§Ø¶ØºØ· Ø£Ùˆ ØªØ­Ø¯Ø«</button>

<div id="card" class="case-card hidden">
  <h3 id="caseTitle"></h3>
  <ul id="steps"></ul>
  <div class="controls">
    <button id="replay">Ø¥Ø¹Ø§Ø¯Ø©</button>
    <button id="stop">Ø¥ÙŠÙ‚Ø§Ù</button>
    <button id="back">Ø±Ø¬ÙˆØ¹</button>
  </div>
</div>

<script>
const CASES={
 "Ù†Ø²ÙŠÙ":["Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ù…ÙƒØ§Ù† Ø§Ù„Ù†Ø²ÙŠÙ Ù…Ø¨Ø§Ø´Ø±Ø© Ø¨Ù‚Ø·Ø¹Ø© Ù‚Ù…Ø§Ø´ Ù†Ø¸ÙŠÙØ©.","Ø§Ø±ÙØ¹ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…ØµØ§Ø¨ ÙÙˆÙ‚ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù‚Ù„Ø¨.","Ù„Ø§ ØªØ²Ù„ Ø§Ù„Ø£Ø¬Ø³Ø§Ù… Ø§Ù„Ø¹Ø§Ù„Ù‚Ø© ÙÙŠ Ø§Ù„Ø¬Ø±Ø­.","Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ (997)"],
 "ÙƒØ³Ø±":["Ù„Ø§ ØªØ­Ø±Ùƒ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ù…ØµØ§Ø¨.","Ø«Ø¨Øª Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¬Ø¨ÙŠØ±Ø© Ù…Ø¤Ù‚ØªØ©.","Ø¶Ø¹ Ø«Ù„Ø¬Ø§Ù‹ Ù…Ù„ÙÙˆÙØ§Ù‹ Ù„ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªÙˆØ±Ù….","Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ (997)"],
 "Ø§Ù†Ø®ÙØ§Ø¶ Ø§Ù„Ø³ÙƒØ±":["Ø£Ø¹Ø· Ø§Ù„Ù…ØµØ§Ø¨ Ø´ÙŠØ¦Ø§Ù‹ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø³ÙƒØ± Ø³Ø±ÙŠØ¹ Ù…Ø«Ù„ Ø§Ù„Ø¹ØµÙŠØ±.","Ø¥Ø°Ø§ ÙÙ‚Ø¯ ÙˆØ¹ÙŠÙ‡ Ù„Ø§ ØªØ¹Ø·Ù‡ Ø´ÙŠØ¦Ø§Ù‹ Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„ÙÙ….","Ø±Ø§Ù‚Ø¨ ØªÙ†ÙØ³Ù‡ Ø­ØªÙ‰ ØªØµÙ„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©.","Ø§ØªØµÙ„ Ø¨Ø§Ù„Ø¥Ø³Ø¹Ø§Ù ÙÙˆØ±Ø§Ù‹ (997)"]
};

const card=document.getElementById("card");
const caseTitle=document.getElementById("caseTitle");
const steps=document.getElementById("steps");
const replay=document.getElementById("replay");
const stopBtn=document.getElementById("stop");
const back=document.getElementById("back");

let currentSteps=[];

function speakSteps(){
 const u=new SpeechSynthesisUtterance(currentSteps.join("ØŒ Ø«Ù… "));
 u.lang="ar-SA";speechSynthesis.cancel();speechSynthesis.speak(u);
}
replay.onclick=speakSteps;
stopBtn.onclick=()=>speechSynthesis.cancel();
back.onclick=()=>{card.classList.add("hidden");speechSynthesis.cancel();};

function showCase(name){
 currentSteps=CASES[name];
 caseTitle.textContent=name;
 steps.innerHTML="";
currentSteps.forEach(s=>{const li=document.createElement("li");li.textContent=s;steps.appendChild(li)});
 card.classList.remove("hidden");
 speakSteps();
}

const SpeechRecognition=window.SpeechRecognition||window.webkitSpeechRecognition;
if(SpeechRecognition){
 const rec=new SpeechRecognition();
 rec.lang="ar-SA";
 rec.continuous=true;
 rec.onresult=e=>{
  const text=e.results[e.results.length-1][0].transcript;
  for(const name in CASES){if(text.includes(name))return showCase(name);}
 };
 rec.start();
 document.getElementById("emergencyBtn").onclick=()=>rec.start();
}else alert("Ø§Ù„Ù…ØªØµÙØ­ Ù„Ø§ ÙŠØ¯Ø¹Ù… Ø§Ù„ØªØ¹Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„ØµÙˆØª");
</script>
</body>
</html>
